@echo off
chcp 65001 >nul
title üöÄ DeftHack Injector

cd /d "%~dp0"

echo ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
echo ‚ïë           üöÄ DEFTHACK INJECTOR v1.0                        ‚ïë
echo ‚ïë              BattlEye Support                               ‚ïë
echo ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
echo.

net session >nul 2>&1
if %errorLevel% neq 0 (
    echo ‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: –ó–∞–ø—É—â–µ–Ω–æ –±–µ–∑ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞!
    echo üí° –î–ª—è –Ω–∞–¥–µ–∂–Ω–æ–π –∏–Ω–∂–µ–∫—Ü–∏–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    echo.
    echo –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –±–µ–∑ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞? (Y/N)
    set /p choice="–í–≤–µ–¥–∏—Ç–µ Y –∏–ª–∏ N: "
    if /i "%choice%"=="N" exit /b
    if /i not "%choice%"=="Y" (
        echo –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä, –≤—ã—Ö–æ–¥...
        exit /b
    )
) else (
    echo ‚úÖ –ü—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω—ã
)
echo.

if exist "bin\Release\net48\win-x64\Injector.exe" (
    echo ‚úÖ Injector —É–∂–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω
    echo.
    goto :run
)

echo üîß –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∏–Ω–∂–µ–∫—Ç–æ—Ä–∞...
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
dotnet build Injector.csproj -c Release -p:Platform=x64 --verbosity minimal
if %errorLevel% neq 0 (
    echo.
    echo ‚ùå –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏–Ω–∂–µ–∫—Ç–æ—Ä–∞!
    echo üí° –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é:
    echo    dotnet build Injector.csproj -c Release -p:Platform=x64
    echo.
    pause
    exit /b
)

echo ‚úÖ –ò–Ω–∂–µ–∫—Ç–æ—Ä —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω
echo.

:run
echo üöÄ –ó–∞–ø—É—Å–∫ –∏–Ω–∂–µ–∫—Ç–æ—Ä–∞...
echo ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

REM –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –∏–Ω–∂–µ–∫—Ç–æ—Ä —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
if not exist "bin\Release\net48\win-x64\Injector.exe" (
    echo ‚ùå Injector.exe –Ω–µ –Ω–∞–π–¥–µ–Ω!
    echo üîß –ö–æ–º–ø–∏–ª—è—Ü–∏—è...
    dotnet build Injector.csproj -c Release -p:Platform=x64 --verbosity minimal
    if %errorLevel% neq 0 (
        echo ‚ùå –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏!
        pause
        exit /b
    )
)

REM –ü—Ä–æ–≤–µ—Ä–∫–∞ DLL
if exist "UnityEngine.FileSystemModule.dll" (
    echo ‚úÖ DLL –Ω–∞–π–¥–µ–Ω–∞ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
) else if exist "obj\Release\UnityEngine.FileSystemModule.dll" (
    echo ‚úÖ DLL –Ω–∞–π–¥–µ–Ω–∞ –≤ obj\Release\
) else (
    echo ‚ö†Ô∏è  DLL –Ω–µ –Ω–∞–π–¥–µ–Ω–∞! –ó–∞–ø—É—Å—Ç–∏—Ç–µ BUILD.bat –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
    echo.
)

echo.
echo üìã –°–¢–ê–¢–£–°:
echo    - –ò–Ω–∂–µ–∫—Ç–æ—Ä: –≥–æ—Ç–æ–≤
if exist "UnityEngine.FileSystemModule.dll" (
    echo    - DLL: –Ω–∞–π–¥–µ–Ω–∞
) else (
    echo    - DLL: –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
)
echo.
echo üí° –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Unturned –∑–∞–ø—É—â–µ–Ω!
echo.
echo –ù–∞–∂–º–∏—Ç–µ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–Ω–∂–µ–∫—Ç–æ—Ä–∞...
pause >nul
echo.

REM –ó–∞–ø—É—Å–∫ –∏–Ω–∂–µ–∫—Ç–æ—Ä–∞
cd /d "%~dp0"
"bin\Release\net48\win-x64\Injector.exe"

pause
